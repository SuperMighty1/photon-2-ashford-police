-- Generated by the Photon 2 Vehicle Code Builder
--
-- Next steps:
--
-- 1. Click the "Copy to Clipboard" button and then paste the code into a new text file
-- 2. If you do not have a project folder for your work, create a new folder in garrysmod/addons/ (e.g. garrysmod/addons/nerissaravencroft_photon2_content)
-- 3. Save this file as garrysmod/addons/<your_addon_folder>/lua/photon-v2/library/vehicles/photon_ashford_f150k9.lua
-- ===================================================================================================
-- IMPORTANT: To work properly, your filename must NOT contain any capital letters or spaces.
-- ===================================================================================================
-- 4. Restart Garry's Mod
-- 5. Spawn your vehicle from the Photon 2: Ashford Police category on the Vehicles tab
-- 6. Edit this code to adjust your component placement and other settings
--
-- For more information, visit https://photon.lighting/docs
--

if (Photon2.ReloadVehicleFile()) then return end
local VEHICLE = Photon2.LibraryVehicle()
local sequence = Photon2.SequenceBuilder.New

-- Readable title of the vehicle
VEHICLE.Title = "Ashford K9 F150"

-- Unique identifier of the BASE vehicle
VEHICLE.Vehicle = "smfordresponder"

-- Spawn category of the vehicle
VEHICLE.Category = "Photon 2: Ashford Police"

-- The author of this vehicle file
VEHICLE.Author = "Nerissa Ravencroft"

VEHICLE.Properties = {
	Skin = 0,
	Color = Color( 255, 255, 255 ),
}

-- Body-Group Example:
-- ["groupName"] = 1
VEHICLE.BodyGroups = {
	["Wheels"] = 3,
	["Grille"] = 0,
	["Front Bumper"] = 0,
	["Rear Bumper"] = 0,
	["Mirrors"] = 1,
	["Bed"] = 3,
	["Rear Seats"] = 1,
	["Partition"] = 1,
	["Center Console"] = 0,
	["Towbar"] = 1,
	["Responder Badge"] = 0,
	["Pushbar"] = 0,
}

-- Sub-Material Example:
-- [1] = "path/to/material"
VEHICLE.SubMaterials = {
	[29] = "mighters/liveries/ashford_f150",
    [23] = "photon/common/blank",
}

VEHICLE.Siren = "whelen_epsilon" 

-- Component Example:
--	{
--		Component = "component_name",
--		Position = Vector( 10, 20, 30 ),
--		Angles = Angle( 0, 45, 90 ),
--		Scale = 0.9,
--		States = { "R", "B" },
--		Phase = 180,
--		Segments = {
--			MyCustomSegment = {
--					Frames = {
--						[1] = "1 3 5",
--						[2] = "2 4 6"
--					},
--					Sequences = {
--						["MY_SEQUENCE"] = { 1, 2 }
--					}
--				}
--		},
--		Inputs = {
--			["Emergency.Warning"] = {
--				["MODE1"] = {
--					MyCustomSegment = "MY_SEQUENCE"
--				}
--			}
--		}
--	}
VEHICLE.Components = {
    {
        Component = "photon_standard_smf15018",
		Segments = {
            ["WIGWAG_REAR"] = {
                Off = "PASS",
                Frames = {
                    [1] = "[~R] 9 10 17 18",
                    [2] = "[~SW] 11 12",
                    [3] = "[PASS] 9 10 17 18 11 12"
                },
                Sequences = {
                    ["ALT"] = sequence():Alternate( 1, 2, 4 ),
                    ["CUT"] = { 3 },
                }
            },
			["WIGWAG"] = {
		Off = "~OFF",
		Frames = {
			[1] = "3 1",
			[2] = "4 2",
			[3] = "1 2",
			[4] = "3 4",
			[5] = "1 2 3 4",
		},
		Sequences = {
			["ALT"] = sequence():Alternate( 1, 2, 6 ):Do(9):Alternate( 5, 0, 6):Do(9),
			["CUT"] = { 3 },
		}
	},
        },
        Inputs = {
            ["Emergency.Warning"] = {
                ["MODE3"] = {
                    ["WIGWAG"] = "ALT",
                    ["WIGWAG_REAR"] = "ALT",
                }
            },
            ["Emergency.Marker"] = {
                ["ON"] = {
    
                }
            },
        },
    },
	{
		-- Siren speaker component, which is where the siren originates from
		Component = "photon_sena_police_siren",
		Position = Vector( 0, 0, 100 ),
		Angles = Angle( 0, 0, 0 ),
		Scale = 1,
		-- This points to the siren name defined above
		Siren = 1
	},
	{
		Component = "photon_ashford_libertyii",
		Position = Vector( 0, 5, 93.6 ),
		Angles = Angle( 1.8, 90, 0 ),
		Scale = 1,
		StateMap = "[B] 1 3 5 7 9 11 13 15 17 19 21 23 25 2 4 6 8 10 12 14 16 18 20 22 24 26 [W] 27 28 29 30 31 32 33 34 35 36 37 38",
	},
    {
		Component = "photon_ashford_ion",
		Position = Vector( -14.7, 132.8, 47.227 ),
		Angles = Angle(0, 8.1, 0),
		Scale = 0.9,
		StateMap = "[B] 1 2",
		Phase = "D",
	},
    {
		Component = "photon_ashford_ion",
		Position = Vector( 14.7, 132.8, 47.227 ),
		Angles = Angle(0, -8.1, 0),
		Scale = 0.9,
		StateMap = "[B] 1 2",
		Phase = "C",
	},
    {
		Component = "photon_ashford_ion",
		Position = Vector( 46.74, 71.39, 53.8 ),
		Angles = Angle(-1.2, -86.0, 6.2),
		Scale = 0.9,
		StateMap = "[B] 1 2",
		Phase = "D",
	},
    {
		Component = "photon_ashford_ion",
		Position = Vector( -46.74, 71.39, 53.8 ),
		Angles = Angle(1.2, 86.0, 6.2),
		Scale = 0.9,
		StateMap = "[B] 1 2",
		Phase = "C",
	},
	{
		Component = "photon_ashford_ion",
		Position = Vector( 46.45, -116.1, 48.5 ),
		Angles = Angle(-0.66, -93, -2.5),
		Scale = 0.9,
		StateMap = "[B] 1 2",
		Phase = "C",
	},
	{
		Component = "photon_ashford_ion",
		Position = Vector( -46.45, -116.1, 48.5 ),
		Angles = Angle( 0.66, 93, -2.5),
		Scale = 0.9,
		StateMap = "[B] 1 2",
		Phase = "D",
	},
	{
		Component = "photon_ashford_plate",
		Position = Vector( 0, -130, 34 ),
		Angles = Angle( 0, -90, 0 ),
		Scale = 0.95,
		Bones = {
			["bone002"] = { Vector(0, 0.3, 0), Angle(0, 0, 0), 1 },
			["bone001"] = { Vector(0, -0.3, 0), Angle(0, 0, 0), 1 },
		},
		StateMap = "[B] 1 2",
	},
	{
		Component = "photon_mighty_dominator8",
		Position = Vector( 0, -42.1, 84 ),
		Angles = Angle( 0, 0, 0 ),
		StateMap = "[A] 1 2 3 4 5 6 7 8",
		Scale = 1,
		Templates = {
			["2D"] = {
		Dominator = {
			Width 	= 3.9,
			Height	= 3.9,
			Shape = PhotonMaterial.GenerateLightQuad("photon/lights/sgm_tir3_detail.png").MaterialName,
			Detail = PhotonMaterial.GenerateLightQuad("photon/lights/sgm_tir3_detail.png").MaterialName,
			--Bloom = PhotonMaterial.GenerateBloomQuad("photon/lights/sgm_tir3_detail.png").MaterialName,
			Scale = 0.55
		},
	},
		}
	},
}

VEHICLE.Props = {
	{
		Name = "@rear_plate",
		Model = "models/xenosprops/na_plate/na_plate_gov.mdl",
		Position = Vector( 0, -131.2, 33.93 ),
		Angles = Angle( 0, -90, 0 ),
		Scale = 0.95,
		SubMaterials = {
			[1] = "mighters/liveries/plate/plate_k92",
		},
	},
    {
		-- Adds realistic window tinting and is skinnable
		Model = "models/schmal/smf15018_glass.mdl",
		Position = Vector( 0, 0, 0 ),
		Angles = Angle( 0, 180, 0 ),
		Scale = 1,
	},
    {
        Model = "models/supermighty/props/ion_surface_mount.mdl",
		Scale = 0.9,
		Position = Vector(45, 71.29, 53.59),
		Angles = Angle( -1.25, -86.0, 6.25)
    },
    {
        Model = "models/supermighty/props/ion_surface_mount.mdl",
		Scale = 0.9,
		Position = Vector(-45, 71.29, 53.59),
		Angles = Angle( 1.25, 86.0, 6.25)
    },
    {
		Model = "models/supermighty/props/ion_surface_mount.mdl",
		Scale = 0.9,
		Position = Vector(-14.5, 131.1, 47.227),
		Angles = Angle( 0, 8.1, 0),
	},
    {
		Model = "models/supermighty/props/ion_surface_mount.mdl",
		Scale = 0.9,
		Position = Vector(14.5, 131.1, 47.227),
		Angles = Angle( 0, -8.1, 0),
	},
	{
		Model = "models/supermighty/props/ion_surface_mount.mdl",
		Scale = 0.9,
		Position = Vector(-44.7, -116, 48.6),
		Angles = Angle( 0.66, 93, -2.5),
	},
	{
		Model = "models/supermighty/props/ion_surface_mount.mdl",
		Scale = 0.9,
		Position = Vector(44.7, -116, 48.6),
		Angles = Angle( -0.66, -93, -2.5),
	},
}

VEHICLE.Schema = {
    ["Emergency.Warning"] = {
        { Label = "PRIMARY" },
        { Mode = "MODE3", Label = "RESPONSE" },
    },
}